---
layout: default
title: Association & Syndic
permalink: /assosyndic/
---

<link rel="stylesheet" href="/assets/css/assostyle.css">

<div class="row connexion">
	<!-- Solde -->
	<div class="col-12">
		<!-- small box -->
		<div class="small-box bg-dark">
			<div class="inner">
				{% include connexion.html %}
			</div>
			<a href="/#instruction" class="solde small-box-footer">Instructions <i
					class="fas fa-arrow-circle-right"></i></a>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-md-6">
		<div class="small-box bg-success"  style="padding: 2px;">
			<a href="#" class="small-box-footer btn btn-default" data-toggle="modal" data-target="#modal-create">Créer une association</a>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-lg-12">
		<div class="small-box">
			<div class="inner">
				<p style="font-size: larger;">Dernières associations crées</p>
				<ul id="event-assoc-histo"></ul>
			</div>
		</div>
	</div>
</div>

<div class="row details-hide" style="display: none;">
	<div class="col-md-6">
		<div class="card card-primary">
			<div class="card-header">
				<h3 class="card-title">Détails de l'association - <span class='association-name' style="font-size: x-large;"></span></h3>
			</div>
			<form>
				<div class="card-body">
					<p><span class='title'>Adresse</span>  :
						<span class='association-address'></span>
					</p>
					<div class="myassoc">
						<p><span class='title'>Président</span> : <span id="president"></span></p>
						<span id="become-owner" class="ismember">
							<button onclick="onBecomeOwner()" type="button"
								class="btn btn-lg btn-block btn-dark mb-2">Devenir
								président</button>
						</span>
						<div id="become-owner-statut"></div>
					</div>
					<div class="seassoc">
						<p><span class='title'>Président</span> : C'est vous !</p>
						<span id="destroy-assoc">
							<button onclick="onSelfDestruct()" type="button"
								class="btn btn-lg btn-block btn-danger mb-2">Dissoudre
								l'association</button>
						</span>
						<div id="destroy-assoc-statut"></div>
					</div>
					<div class="ismember">
						<p>J'en suis membre
							<svg width='1em' height='1em' viewBox='0 0 16 16' class='bi bi-check-circle'
								fill='currentColor' xmlns='http://www.w3.org/2000/svg'>
								<path fill-rule='evenodd'
									d='M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z' />
								<path fill-rule='evenodd'
									d='M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z' />
							</svg>
						</p>
					</div>
					<div class="notmember" id="become-member">
						<p>Je ne suis pas membre
							<svg width='1em' height='1em' viewBox='0 0 16 16' class='bi bi-emoji-dizzy'
								fill='currentColor' xmlns='http://www.w3.org/2000/svg'>
								<path fill-rule='evenodd'
									d='M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z' />
								<path fill-rule='evenodd'
									d='M9.146 5.146a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708.708l-.647.646.647.646a.5.5 0 0 1-.708.708l-.646-.647-.646.647a.5.5 0 1 1-.708-.708l.647-.646-.647-.646a.5.5 0 0 1 0-.708zm-5 0a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 1 1 .708.708l-.647.646.647.646a.5.5 0 1 1-.708.708L5.5 7.207l-.646.647a.5.5 0 1 1-.708-.708l.647-.646-.647-.646a.5.5 0 0 1 0-.708z' />
								<path d='M10 11a2 2 0 1 1-4 0 2 2 0 0 1 4 0z' />
							</svg>
						</p>
						<input type="text" class="form-control mb-2" id="become-member-name"
							placeholder="Quel est votre pseudonyme ?">
						<button onclick="onJoinAssociation()" type="button"
							class="btn btn-lg btn-block btn-warning mb-2">Rejoindre
							l'association</button>
					</div>
					<div id="become-member-statut"></div>
					<p><span class='title'>Nombre de membres</span> : <span id="nbmembers"></span>
					</p>
					<div id="member-ban-statut"></div>
					<div id="member-list"></div>
					<span id="ask-referendum" class="ismember">
						<h6>Demander un referendum</h6>
						<input type='text' class='form-control mb-2' id='ask-referendum-question'
							placeholder='Question fermée à poser (OUI/NON)'>
						<button onclick='onSendReferendum()' type='button'
							class='btn btn-lg btn-block btn-primary mb-2'>Proposer un
							referendum</button>
					</span>
					<div id="ask-referendum-statut"></div>
					<div id="referendum-list"></div>
				</div>
			</form>
		</div>
	</div>
</div>

<div class="row gerer-hide" style="display: none;">
	<div class="col-md-6">
		<div class="card card-primary">
			<div class="card-header">
				<h3 class="card-title">Gestion de l'association - <span class='association-name' style="font-size: x-large;"></span></h3>
			</div>
			<div class="card-body">
				<form>
					<div class="card-body">
						<ul class="list-unstyled mt-3 mb-4">
							<div id="details-admin" style="display: none;">
								<p><span class='title'>Contrat d'administration</span> : <span class='administration-address'></span></p>
								<p>
									Ce contrat <span class="bold" id="details-admin-type"></span><span class="bold"
										id="details-admin-member"></span>
								</p>
								<p>
									Il y a
									<span id='details-admin-vote'></span>
									votes en faveur
									<span id="details-admin-membercount"></span>
									<span id="details-admin-seuil"></span>
									<span id='details-admin-didvote'></span>
								</p>
								<span id="vote-list">
								</span>
								<span id="can-vote" style="display:none;">
									<button onclick="onVoteForAdminContract()" id="vote-for-admin" type="button"
										class="btn btn-lg btn-block btn-info mb-2">Voter pour</button>
								</span>
								<p>
									<span id="vote-status"></span>
								</p>
								<span id="seuil-enough" style="display:none;">
									<p>
										Lorsque le seuil requis est atteint, il est possible d'acter
										l'action d'administration :
									</p>
									<button onclick="onActAdminContract()" id="act-admin" type="button"
										class="btn btn-lg btn-block btn-info mb-2">Acter</button>
									<p>
										<span id="act-status"></span>
									</p>
								</span>
							</div>
						</ul>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

<div class="row details-admin-hide" style="display: none;">
	<div class="col-lg-12">
		<div class="small-box">
			<div class="inner">
				<p style="font-size: larger;">Historique des actions d'administration</p>
				<ul id="event-admin-histo"></ul>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="modal-create" style="display: none;" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title">Créer une association</h4>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">×</span>
				</button>
			</div>
			<div class="modal-body">
				<div class="form-group">
					<label for="inputNameAssoc">Nom de l'association</label>
					<input type="text" class="form-control" id="name-assoc"
						placeholder="Choisir un nom pour l'association">
				</div>
				<div class="form-group">
					<label for="inputMemberNameAssoc">Votre pseudonyme</label>
					<input type="text" class="form-control" id="member-name-assoc"
						placeholder="Choisir un nom pour vous désigner">
				</div>
			</div>
			<div class="modal-footer justify-content-between">
				<button type="button" class="btn btn-default" data-dismiss="modal">Retour</button>
				<button type="button" onclick="onCreateAssociation()" class="btn btn-primary">
					Créer 
					<i id="fa3" class="fas fa-spinner fa-pulse" style="display:none;"></i>
				</button>
			</div>
		</div>
	</div>
</div>

<span style="display: none;">
	<span id="association-address"></span>
	<span class="association-address"></span>
	<span class="association-name"></span>
	<span id="administration-address"></span>
	<span class="administration-address"></span>
	<span id="administration-kind"></span>
</span>

<script type="text/javascript" src="/assets/js/generic/storage.js"></script>

<script type="text/javascript" src="/assets/js/assosyndic/assogenerics.js"></script>
<script type="text/javascript" src="/assets/js/assosyndic/assostorage.js"></script>
<script type="text/javascript" src="/assets/js/assosyndic/assocreate.js"></script>
<script type="text/javascript" src="/assets/js/assosyndic/assohelpers.js"></script>
<script type="text/javascript" src="/assets/js/assosyndic/assomain.js"></script>

<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
<script src="/assets/js/vendor/popper.min.js"></script>
<script src="/assets/js/vendor/holder.min.js"></script>

<script>
	Holder.addTheme('thumb', {
		bg: '#55595c',
		fg: '#eceeef',
		text: 'Thumbnail'
	});
</script>
<script>
	var element = document.getElementById("upnavasso");
	element.classList.add("circle-icon");
</script>